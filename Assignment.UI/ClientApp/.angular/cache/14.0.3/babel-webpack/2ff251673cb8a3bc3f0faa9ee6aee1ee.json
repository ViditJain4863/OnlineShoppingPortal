{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar Subscriber_1 = require('../Subscriber');\n\nvar EmptyError_1 = require('../util/EmptyError');\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits only the last item emitted by the source Observable.\n * It optionally takes a predicate function as a parameter, in which case, rather than emitting\n * the last item from the source Observable, the resulting Observable will emit the last item\n * from the source Observable that satisfies the predicate.\n *\n * <img src=\"./img/last.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {function} predicate - The condition any source emitted item has to satisfy.\n * @return {Observable} An Observable that emits only the last item satisfying the given condition\n * from the source, or an NoSuchElementException if no such items are emitted.\n * @throws - Throws if no items that match the predicate are emitted by the source Observable.\n * @method last\n * @owner Observable\n */\n\n\nfunction last(predicate, resultSelector, defaultValue) {\n  return function (source) {\n    return source.lift(new LastOperator(predicate, resultSelector, defaultValue, source));\n  };\n}\n\nexports.last = last;\n\nvar LastOperator = function () {\n  function LastOperator(predicate, resultSelector, defaultValue, source) {\n    this.predicate = predicate;\n    this.resultSelector = resultSelector;\n    this.defaultValue = defaultValue;\n    this.source = source;\n  }\n\n  LastOperator.prototype.call = function (observer, source) {\n    return source.subscribe(new LastSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));\n  };\n\n  return LastOperator;\n}();\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\n\n\nvar LastSubscriber = function (_super) {\n  __extends(LastSubscriber, _super);\n\n  function LastSubscriber(destination, predicate, resultSelector, defaultValue, source) {\n    _super.call(this, destination);\n\n    this.predicate = predicate;\n    this.resultSelector = resultSelector;\n    this.defaultValue = defaultValue;\n    this.source = source;\n    this.hasValue = false;\n    this.index = 0;\n\n    if (typeof defaultValue !== 'undefined') {\n      this.lastValue = defaultValue;\n      this.hasValue = true;\n    }\n  }\n\n  LastSubscriber.prototype._next = function (value) {\n    var index = this.index++;\n\n    if (this.predicate) {\n      this._tryPredicate(value, index);\n    } else {\n      if (this.resultSelector) {\n        this._tryResultSelector(value, index);\n\n        return;\n      }\n\n      this.lastValue = value;\n      this.hasValue = true;\n    }\n  };\n\n  LastSubscriber.prototype._tryPredicate = function (value, index) {\n    var result;\n\n    try {\n      result = this.predicate(value, index, this.source);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    if (result) {\n      if (this.resultSelector) {\n        this._tryResultSelector(value, index);\n\n        return;\n      }\n\n      this.lastValue = value;\n      this.hasValue = true;\n    }\n  };\n\n  LastSubscriber.prototype._tryResultSelector = function (value, index) {\n    var result;\n\n    try {\n      result = this.resultSelector(value, index);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.lastValue = result;\n    this.hasValue = true;\n  };\n\n  LastSubscriber.prototype._complete = function () {\n    var destination = this.destination;\n\n    if (this.hasValue) {\n      destination.next(this.lastValue);\n      destination.complete();\n    } else {\n      destination.error(new EmptyError_1.EmptyError());\n    }\n  };\n\n  return LastSubscriber;\n}(Subscriber_1.Subscriber);","map":{"version":3,"names":["__extends","d","b","p","hasOwnProperty","__","constructor","prototype","Object","create","Subscriber_1","require","EmptyError_1","last","predicate","resultSelector","defaultValue","source","lift","LastOperator","exports","call","observer","subscribe","LastSubscriber","_super","destination","hasValue","index","lastValue","_next","value","_tryPredicate","_tryResultSelector","result","err","error","_complete","next","complete","EmptyError","Subscriber"],"sources":["C:/Users/vidit.jain/node_modules/rxjs/operators/last.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyError_1 = require('../util/EmptyError');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits only the last item emitted by the source Observable.\n * It optionally takes a predicate function as a parameter, in which case, rather than emitting\n * the last item from the source Observable, the resulting Observable will emit the last item\n * from the source Observable that satisfies the predicate.\n *\n * <img src=\"./img/last.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {function} predicate - The condition any source emitted item has to satisfy.\n * @return {Observable} An Observable that emits only the last item satisfying the given condition\n * from the source, or an NoSuchElementException if no such items are emitted.\n * @throws - Throws if no items that match the predicate are emitted by the source Observable.\n * @method last\n * @owner Observable\n */\nfunction last(predicate, resultSelector, defaultValue) {\n    return function (source) { return source.lift(new LastOperator(predicate, resultSelector, defaultValue, source)); };\n}\nexports.last = last;\nvar LastOperator = (function () {\n    function LastOperator(predicate, resultSelector, defaultValue, source) {\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    LastOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new LastSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));\n    };\n    return LastOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar LastSubscriber = (function (_super) {\n    __extends(LastSubscriber, _super);\n    function LastSubscriber(destination, predicate, resultSelector, defaultValue, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n        this.hasValue = false;\n        this.index = 0;\n        if (typeof defaultValue !== 'undefined') {\n            this.lastValue = defaultValue;\n            this.hasValue = true;\n        }\n    }\n    LastSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            if (this.resultSelector) {\n                this._tryResultSelector(value, index);\n                return;\n            }\n            this.lastValue = value;\n            this.hasValue = true;\n        }\n    };\n    LastSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            if (this.resultSelector) {\n                this._tryResultSelector(value, index);\n                return;\n            }\n            this.lastValue = value;\n            this.hasValue = true;\n        }\n    };\n    LastSubscriber.prototype._tryResultSelector = function (value, index) {\n        var result;\n        try {\n            result = this.resultSelector(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.lastValue = result;\n        this.hasValue = true;\n    };\n    LastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.hasValue) {\n            destination.next(this.lastValue);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError_1.EmptyError);\n        }\n    };\n    return LastSubscriber;\n}(Subscriber_1.Subscriber));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}